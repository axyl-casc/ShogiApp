(function(){const B=document.createElement("link").relList;if(B&&B.supports&&B.supports("modulepreload"))return;for(const T of document.querySelectorAll('link[rel="modulepreload"]'))Z(T);new MutationObserver(T=>{for(const C of T)if(C.type==="childList")for(const X of C.addedNodes)X.tagName==="LINK"&&X.rel==="modulepreload"&&Z(X)}).observe(document,{childList:!0,subtree:!0});function f(T){const C={};return T.integrity&&(C.integrity=T.integrity),T.referrerPolicy&&(C.referrerPolicy=T.referrerPolicy),T.crossOrigin==="use-credentials"?C.credentials="include":T.crossOrigin==="anonymous"?C.credentials="omit":C.credentials="same-origin",C}function Z(T){if(T.ep)return;T.ep=!0;const C=f(T);fetch(T.href,C)}})();var ni=function(){var U=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(f){f=f||{};var f=typeof f<"u"?f:{},Z;f.ready=new Promise(function(e,r){Z=e});var T={},C;for(C in f)f.hasOwnProperty(C)&&(T[C]=f[C]);var X="./this.program",ue=function(e,r){throw r},H=!1,R=!1;H=typeof window=="object",R=typeof importScripts=="function",typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var j="";function Fe(e){return f.locateFile?f.locateFile(e,j):j+e}var He,ze;(H||R)&&(R?j=self.location.href:document.currentScript&&(j=document.currentScript.src),U&&(j=U),j.indexOf("blob:")!==0?j=j.substr(0,j.lastIndexOf("/")+1):j="",He=function(r){var n=new XMLHttpRequest;return n.open("GET",r,!1),n.send(null),n.responseText},R&&(ze=function(r){var n=new XMLHttpRequest;return n.open("GET",r,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}));var me=f.print||console.log.bind(console),O=f.printErr||console.warn.bind(console);for(C in T)T.hasOwnProperty(C)&&(f[C]=T[C]);T=null,f.arguments&&f.arguments,f.thisProgram&&(X=f.thisProgram),f.quit&&(ue=f.quit);var ye;f.wasmBinary&&(ye=f.wasmBinary);var Ye;f.noExitRuntime&&(Ye=f.noExitRuntime),typeof WebAssembly!="object"&&O("no native wasm support detected");var ne,Xr=new WebAssembly.Table({initial:605,maximum:605,element:"anyfunc"}),Ve=!1;function Kr(e,r){e||$("Assertion failed: "+r)}var vr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function fe(e,r,n){for(var i=r+n,o=r;e[o]&&!(o>=i);)++o;if(o-r>16&&e.subarray&&vr)return vr.decode(e.subarray(r,o));for(var a="";r<o;){var s=e[r++];if(!(s&128)){a+=String.fromCharCode(s);continue}var u=e[r++]&63;if((s&224)==192){a+=String.fromCharCode((s&31)<<6|u);continue}var c=e[r++]&63;if((s&240)==224?s=(s&15)<<12|u<<6|c:s=(s&7)<<18|u<<12|c<<6|e[r++]&63,s<65536)a+=String.fromCharCode(s);else{var l=s-65536;a+=String.fromCharCode(55296|l>>10,56320|l&1023)}}return a}function Se(e,r){return e?fe(N,e,r):""}function qe(e,r,n,i){if(!(i>0))return 0;for(var o=n,a=n+i-1,s=0;s<e.length;++s){var u=e.charCodeAt(s);if(u>=55296&&u<=57343){var c=e.charCodeAt(++s);u=65536+((u&1023)<<10)|c&1023}if(u<=127){if(n>=a)break;r[n++]=u}else if(u<=2047){if(n+1>=a)break;r[n++]=192|u>>6,r[n++]=128|u&63}else if(u<=65535){if(n+2>=a)break;r[n++]=224|u>>12,r[n++]=128|u>>6&63,r[n++]=128|u&63}else{if(n+3>=a)break;r[n++]=240|u>>18,r[n++]=128|u>>12&63,r[n++]=128|u>>6&63,r[n++]=128|u&63}}return r[n]=0,n-o}function pr(e,r,n){return qe(e,N,r,n)}function Te(e){for(var r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=55296&&i<=57343&&(i=65536+((i&1023)<<10)|e.charCodeAt(++n)&1023),i<=127?++r:i<=2047?r+=2:i<=65535?r+=3:r+=4}return r}var hr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function Jr(e,r){for(var n=e,i=n>>1,o=i+r/2;!(i>=o)&&ge[i];)++i;if(n=i<<1,n-e>32&&hr)return hr.decode(N.subarray(e,n));for(var a=0,s="";;){var u=Q[e+a*2>>1];if(u==0||a==r/2)return s;++a,s+=String.fromCharCode(u)}}function Zr(e,r,n){if(n===void 0&&(n=2147483647),n<2)return 0;n-=2;for(var i=r,o=n<e.length*2?n/2:e.length,a=0;a<o;++a){var s=e.charCodeAt(a);Q[r>>1]=s,r+=2}return Q[r>>1]=0,r-i}function Qr(e){return e.length*2}function en(e,r){for(var n=0,i="";!(n>=r/4);){var o=g[e+n*4>>2];if(o==0)break;if(++n,o>=65536){var a=o-65536;i+=String.fromCharCode(55296|a>>10,56320|a&1023)}else i+=String.fromCharCode(o)}return i}function rn(e,r,n){if(n===void 0&&(n=2147483647),n<4)return 0;for(var i=r,o=i+n-4,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343){var u=e.charCodeAt(++a);s=65536+((s&1023)<<10)|u&1023}if(g[r>>2]=s,r+=4,r+4>o)break}return g[r>>2]=0,r-i}function nn(e){for(var r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=55296&&i<=57343&&++n,r+=4}return r}function tn(e,r){I.set(e,r)}function on(e,r,n){for(var i=0;i<e.length;++i)I[r++>>0]=e.charCodeAt(i);I[r>>0]=0}var mr=65536;function an(e,r){return e%r>0&&(e+=r-e%r),e}var ce,I,N,Q,ge,g,z,yr,gr;function _r(e){ce=e,f.HEAP8=I=new Int8Array(e),f.HEAP16=Q=new Int16Array(e),f.HEAP32=g=new Int32Array(e),f.HEAPU8=N=new Uint8Array(e),f.HEAPU16=ge=new Uint16Array(e),f.HEAPU32=z=new Uint32Array(e),f.HEAPF32=yr=new Float32Array(e),f.HEAPF64=gr=new Float64Array(e)}var sn=32363968,un=27120928,wr=f.INITIAL_MEMORY||33554432;f.wasmMemory?ne=f.wasmMemory:ne=new WebAssembly.Memory({initial:wr/mr,maximum:1073741824/mr}),ne&&(ce=ne.buffer),wr=ce.byteLength,_r(ce),g[un>>2]=sn;function Ce(e){for(;e.length>0;){var r=e.shift();if(typeof r=="function"){r(f);continue}var n=r.func;typeof n=="number"?r.arg===void 0?f.dynCall_v(n):f.dynCall_vi(n,r.arg):n(r.arg===void 0?null:r.arg)}}var Er=[],br=[],fn=[],kr=[];function cn(){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)pn(f.preRun.shift());Ce(Er)}function ln(){!f.noFSInit&&!t.init.initialized&&t.init(),Ce(br)}function dn(){t.ignorePermissions=!1,Ce(fn)}function vn(){if(f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;)hn(f.postRun.shift());Ce(kr)}function pn(e){Er.unshift(e)}function hn(e){kr.unshift(e)}var Ge=Math.abs,Xe=Math.ceil,Ke=Math.floor,Je=Math.min,te=0,_e=null;function Pr(e){te++,f.monitorRunDependencies&&f.monitorRunDependencies(te)}function Ze(e){if(te--,f.monitorRunDependencies&&f.monitorRunDependencies(te),te==0&&_e){var r=_e;_e=null,r()}}f.preloadedImages={},f.preloadedAudios={};function $(e){throw f.onAbort&&f.onAbort(e),e+="",me(e),O(e),Ve=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}function mn(e,r){return String.prototype.startsWith?e.startsWith(r):e.indexOf(r)===0}var yn="data:application/octet-stream;base64,";function Dr(e){return mn(e,yn)}var ee="ffish.wasm";Dr(ee)||(ee=Fe(ee));function Fr(){try{if(ye)return new Uint8Array(ye);if(ze)return ze(ee);throw"both async and sync fetching of the wasm failed"}catch(e){$(e)}}function gn(){return!ye&&(H||R)&&typeof fetch=="function"?fetch(ee,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ee+"'";return e.arrayBuffer()}).catch(function(){return Fr()}):new Promise(function(e,r){e(Fr())})}function _n(){var e={a:Qt};function r(s,u){var c=s.exports;f.asm=c,Ze()}Pr();function n(s){r(s.instance)}function i(s){return gn().then(function(u){return WebAssembly.instantiate(u,e)}).then(s,function(u){O("failed to asynchronously prepare wasm: "+u),$(u)})}function o(){if(!ye&&typeof WebAssembly.instantiateStreaming=="function"&&!Dr(ee)&&typeof fetch=="function")fetch(ee,{credentials:"same-origin"}).then(function(s){var u=WebAssembly.instantiateStreaming(s,e);return u.then(n,function(c){O("wasm streaming compile failed: "+c),O("falling back to ArrayBuffer instantiation"),i(n)})});else return i(n)}if(f.instantiateWasm)try{var a=f.instantiateWasm(e,r);return a}catch(s){return O("Module.instantiateWasm callback failed with error: "+s),!1}return o(),{}}var x,K;br.push({func:function(){zr()}});function ti(e){return e}function wn(e){var r=/\b_Z[\w\d_]+/g;return e.replace(r,function(n){var i=n;return n===i?n:i+" ["+n+"]"})}function En(){var e=new Error;if(!e.stack){try{throw new Error}catch(r){e=r}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function bn(){var e=En();return f.extraStackTrace&&(e+=`
`+f.extraStackTrace()),wn(e)}function kn(e){return De(e)}function Pn(e,r,n){throw e}function le(e){return g[qr()>>2]=e,e}function Dn(e,r){return le(63),-1}var b={splitPath:function(e){var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return r.exec(e).slice(1)},normalizeArray:function(e,r){for(var n=0,i=e.length-1;i>=0;i--){var o=e[i];o==="."?e.splice(i,1):o===".."?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(r)for(;n;n--)e.unshift("..");return e},normalize:function(e){var r=e.charAt(0)==="/",n=e.substr(-1)==="/";return e=b.normalizeArray(e.split("/").filter(function(i){return!!i}),!r).join("/"),!e&&!r&&(e="."),e&&n&&(e+="/"),(r?"/":"")+e},dirname:function(e){var r=b.splitPath(e),n=r[0],i=r[1];return!n&&!i?".":(i&&(i=i.substr(0,i.length-1)),n+i)},basename:function(e){if(e==="/")return"/";var r=e.lastIndexOf("/");return r===-1?e:e.substr(r+1)},extname:function(e){return b.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return b.normalize(e.join("/"))},join2:function(e,r){return b.normalize(e+"/"+r)}},Y={resolve:function(){for(var e="",r=!1,n=arguments.length-1;n>=-1&&!r;n--){var i=n>=0?arguments[n]:t.cwd();if(typeof i!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!i)return"";e=i+"/"+e,r=i.charAt(0)==="/"}return e=b.normalizeArray(e.split("/").filter(function(o){return!!o}),!r).join("/"),(r?"/":"")+e||"."},relative:function(e,r){e=Y.resolve(e).substr(1),r=Y.resolve(r).substr(1);function n(l){for(var v=0;v<l.length&&l[v]==="";v++);for(var m=l.length-1;m>=0&&l[m]==="";m--);return v>m?[]:l.slice(v,m-v+1)}for(var i=n(e.split("/")),o=n(r.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}for(var c=[],u=s;u<i.length;u++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")}},ie={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){ie.ttys[e]={input:[],output:[],ops:r},t.registerDevice(e,ie.stream_ops)},stream_ops:{open:function(e){var r=ie.ttys[e.node.rdev];if(!r)throw new t.ErrnoError(43);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,r,n,i,o){if(!e.tty||!e.tty.ops.get_char)throw new t.ErrnoError(60);for(var a=0,s=0;s<i;s++){var u;try{u=e.tty.ops.get_char(e.tty)}catch{throw new t.ErrnoError(29)}if(u===void 0&&a===0)throw new t.ErrnoError(6);if(u==null)break;a++,r[n+s]=u}return a&&(e.node.timestamp=Date.now()),a},write:function(e,r,n,i,o){if(!e.tty||!e.tty.ops.put_char)throw new t.ErrnoError(60);try{for(var a=0;a<i;a++)e.tty.ops.put_char(e.tty,r[n+a])}catch{throw new t.ErrnoError(29)}return i&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if(typeof window<"u"&&typeof window.prompt=="function"?(r=window.prompt("Input: "),r!==null&&(r+=`
`)):typeof readline=="function"&&(r=readline(),r!==null&&(r+=`
`)),!r)return null;e.input=Le(r,!0)}return e.input.shift()},put_char:function(e,r){r===null||r===10?(me(fe(e.output,0)),e.output=[]):r!=0&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(me(fe(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){r===null||r===10?(O(fe(e.output,0)),e.output=[]):r!=0&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(O(fe(e.output,0)),e.output=[])}}},w={ops_table:null,mount:function(e){return w.createNode(null,"/",16895,0)},createNode:function(e,r,n,i){if(t.isBlkdev(n)||t.isFIFO(n))throw new t.ErrnoError(63);w.ops_table||(w.ops_table={dir:{node:{getattr:w.node_ops.getattr,setattr:w.node_ops.setattr,lookup:w.node_ops.lookup,mknod:w.node_ops.mknod,rename:w.node_ops.rename,unlink:w.node_ops.unlink,rmdir:w.node_ops.rmdir,readdir:w.node_ops.readdir,symlink:w.node_ops.symlink},stream:{llseek:w.stream_ops.llseek}},file:{node:{getattr:w.node_ops.getattr,setattr:w.node_ops.setattr},stream:{llseek:w.stream_ops.llseek,read:w.stream_ops.read,write:w.stream_ops.write,allocate:w.stream_ops.allocate,mmap:w.stream_ops.mmap,msync:w.stream_ops.msync}},link:{node:{getattr:w.node_ops.getattr,setattr:w.node_ops.setattr,readlink:w.node_ops.readlink},stream:{}},chrdev:{node:{getattr:w.node_ops.getattr,setattr:w.node_ops.setattr},stream:t.chrdev_stream_ops}});var o=t.createNode(e,r,n,i);return t.isDir(o.mode)?(o.node_ops=w.ops_table.dir.node,o.stream_ops=w.ops_table.dir.stream,o.contents={}):t.isFile(o.mode)?(o.node_ops=w.ops_table.file.node,o.stream_ops=w.ops_table.file.stream,o.usedBytes=0,o.contents=null):t.isLink(o.mode)?(o.node_ops=w.ops_table.link.node,o.stream_ops=w.ops_table.link.stream):t.isChrdev(o.mode)&&(o.node_ops=w.ops_table.chrdev.node,o.stream_ops=w.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[r]=o),o},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var r=[],n=0;n<e.usedBytes;++n)r.push(e.contents[n]);return r}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,r){var n=e.contents?e.contents.length:0;if(!(n>=r)){var i=1024*1024;r=Math.max(r,n*(n<i?2:1.125)>>>0),n!=0&&(r=Math.max(r,256));var o=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(o.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,r){if(e.usedBytes!=r){if(r==0){e.contents=null,e.usedBytes=0;return}if(!e.contents||e.contents.subarray){var n=e.contents;e.contents=new Uint8Array(r),n&&e.contents.set(n.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r;return}if(e.contents||(e.contents=[]),e.contents.length>r)e.contents.length=r;else for(;e.contents.length<r;)e.contents.push(0);e.usedBytes=r}},node_ops:{getattr:function(e){var r={};return r.dev=t.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,t.isDir(e.mode)?r.size=4096:t.isFile(e.mode)?r.size=e.usedBytes:t.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){r.mode!==void 0&&(e.mode=r.mode),r.timestamp!==void 0&&(e.timestamp=r.timestamp),r.size!==void 0&&w.resizeFileStorage(e,r.size)},lookup:function(e,r){throw t.genericErrors[44]},mknod:function(e,r,n,i){return w.createNode(e,r,n,i)},rename:function(e,r,n){if(t.isDir(e.mode)){var i;try{i=t.lookupNode(r,n)}catch{}if(i)for(var o in i.contents)throw new t.ErrnoError(55)}delete e.parent.contents[e.name],e.name=n,r.contents[n]=e,e.parent=r},unlink:function(e,r){delete e.contents[r]},rmdir:function(e,r){var n=t.lookupNode(e,r);for(var i in n.contents)throw new t.ErrnoError(55);delete e.contents[r]},readdir:function(e){var r=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&r.push(n);return r},symlink:function(e,r,n){var i=w.createNode(e,r,41471,0);return i.link=n,i},readlink:function(e){if(!t.isLink(e.mode))throw new t.ErrnoError(28);return e.link}},stream_ops:{read:function(e,r,n,i,o){var a=e.node.contents;if(o>=e.node.usedBytes)return 0;var s=Math.min(e.node.usedBytes-o,i);if(s>8&&a.subarray)r.set(a.subarray(o,o+s),n);else for(var u=0;u<s;u++)r[n+u]=a[o+u];return s},write:function(e,r,n,i,o,a){if(r.buffer===I.buffer&&(a=!1),!i)return 0;var s=e.node;if(s.timestamp=Date.now(),r.subarray&&(!s.contents||s.contents.subarray)){if(a)return s.contents=r.subarray(n,n+i),s.usedBytes=i,i;if(s.usedBytes===0&&o===0)return s.contents=r.slice(n,n+i),s.usedBytes=i,i;if(o+i<=s.usedBytes)return s.contents.set(r.subarray(n,n+i),o),i}if(w.expandFileStorage(s,o+i),s.contents.subarray&&r.subarray)s.contents.set(r.subarray(n,n+i),o);else for(var u=0;u<i;u++)s.contents[o+u]=r[n+u];return s.usedBytes=Math.max(s.usedBytes,o+i),i},llseek:function(e,r,n){var i=r;if(n===1?i+=e.position:n===2&&t.isFile(e.node.mode)&&(i+=e.node.usedBytes),i<0)throw new t.ErrnoError(28);return i},allocate:function(e,r,n){w.expandFileStorage(e.node,r+n),e.node.usedBytes=Math.max(e.node.usedBytes,r+n)},mmap:function(e,r,n,i,o,a,s){if(!t.isFile(e.node.mode))throw new t.ErrnoError(43);var u,c,l=e.node.contents;if(!(s&2)&&l.buffer===r.buffer)c=!1,u=l.byteOffset;else{(o>0||o+i<l.length)&&(l.subarray?l=l.subarray(o,o+i):l=Array.prototype.slice.call(l,o,o+i)),c=!0;var v=r.buffer==I.buffer;if(u=De(i),!u)throw new t.ErrnoError(48);(v?I:r).set(l,u)}return{ptr:u,allocated:c}},msync:function(e,r,n,i,o){if(!t.isFile(e.node.mode))throw new t.ErrnoError(43);return o&2||w.stream_ops.write(e,r,0,i,n,!1),0}}},t={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof t.ErrnoError))throw e+" : "+bn();return le(e.errno)},lookupPath:function(e,r){if(e=Y.resolve(t.cwd(),e),r=r||{},!e)return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var i in n)r[i]===void 0&&(r[i]=n[i]);if(r.recurse_count>8)throw new t.ErrnoError(32);for(var o=b.normalizeArray(e.split("/").filter(function(p){return!!p}),!1),a=t.root,s="/",u=0;u<o.length;u++){var c=u===o.length-1;if(c&&r.parent)break;if(a=t.lookupNode(a,o[u]),s=b.join2(s,o[u]),t.isMountpoint(a)&&(!c||c&&r.follow_mount)&&(a=a.mounted.root),!c||r.follow)for(var l=0;t.isLink(a.mode);){var v=t.readlink(s);s=Y.resolve(b.dirname(s),v);var m=t.lookupPath(s,{recurse_count:r.recurse_count});if(a=m.node,l++>40)throw new t.ErrnoError(32)}}return{path:s,node:a}},getPath:function(e){for(var r;;){if(t.isRoot(e)){var n=e.mount.mountpoint;return r?n[n.length-1]!=="/"?n+"/"+r:n+r:n}r=r?e.name+"/"+r:e.name,e=e.parent}},hashName:function(e,r){for(var n=0,i=0;i<r.length;i++)n=(n<<5)-n+r.charCodeAt(i)|0;return(e+n>>>0)%t.nameTable.length},hashAddNode:function(e){var r=t.hashName(e.parent.id,e.name);e.name_next=t.nameTable[r],t.nameTable[r]=e},hashRemoveNode:function(e){var r=t.hashName(e.parent.id,e.name);if(t.nameTable[r]===e)t.nameTable[r]=e.name_next;else for(var n=t.nameTable[r];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,r){var n=t.mayLookup(e);if(n)throw new t.ErrnoError(n,e);for(var i=t.hashName(e.id,r),o=t.nameTable[i];o;o=o.name_next){var a=o.name;if(o.parent.id===e.id&&a===r)return o}return t.lookup(e,r)},createNode:function(e,r,n,i){var o=new t.FSNode(e,r,n,i);return t.hashAddNode(o),o},destroyNode:function(e){t.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return(e&61440)===32768},isDir:function(e){return(e&61440)===16384},isLink:function(e){return(e&61440)===40960},isChrdev:function(e){return(e&61440)===8192},isBlkdev:function(e){return(e&61440)===24576},isFIFO:function(e){return(e&61440)===4096},isSocket:function(e){return(e&49152)===49152},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var r=t.flagModes[e];if(typeof r>"u")throw new Error("Unknown file open mode: "+e);return r},flagsToPermissionString:function(e){var r=["r","w","rw"][e&3];return e&512&&(r+="w"),r},nodePermissions:function(e,r){return t.ignorePermissions?0:r.indexOf("r")!==-1&&!(e.mode&292)||r.indexOf("w")!==-1&&!(e.mode&146)||r.indexOf("x")!==-1&&!(e.mode&73)?2:0},mayLookup:function(e){var r=t.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate:function(e,r){try{var n=t.lookupNode(e,r);return 20}catch{}return t.nodePermissions(e,"wx")},mayDelete:function(e,r,n){var i;try{i=t.lookupNode(e,r)}catch(a){return a.errno}var o=t.nodePermissions(e,"wx");if(o)return o;if(n){if(!t.isDir(i.mode))return 54;if(t.isRoot(i)||t.getPath(i)===t.cwd())return 10}else if(t.isDir(i.mode))return 31;return 0},mayOpen:function(e,r){return e?t.isLink(e.mode)?32:t.isDir(e.mode)&&(t.flagsToPermissionString(r)!=="r"||r&512)?31:t.nodePermissions(e,t.flagsToPermissionString(r)):44},MAX_OPEN_FDS:4096,nextfd:function(e,r){e=e||0,r=r||t.MAX_OPEN_FDS;for(var n=e;n<=r;n++)if(!t.streams[n])return n;throw new t.ErrnoError(33)},getStream:function(e){return t.streams[e]},createStream:function(e,r,n){t.FSStream||(t.FSStream=function(){},t.FSStream.prototype={object:{get:function(){return this.node},set:function(s){this.node=s}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}});var i=new t.FSStream;for(var o in e)i[o]=e[o];e=i;var a=t.nextfd(r,n);return e.fd=a,t.streams[a]=e,e},closeStream:function(e){t.streams[e]=null},chrdev_stream_ops:{open:function(e){var r=t.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new t.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return e&255},makedev:function(e,r){return e<<8|r},registerDevice:function(e,r){t.devices[e]={stream_ops:r}},getDevice:function(e){return t.devices[e]},getMounts:function(e){for(var r=[],n=[e];n.length;){var i=n.pop();r.push(i),n.push.apply(n,i.mounts)}return r},syncfs:function(e,r){typeof e=="function"&&(r=e,e=!1),t.syncFSRequests++,t.syncFSRequests>1&&O("warning: "+t.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=t.getMounts(t.root.mount),i=0;function o(s){return t.syncFSRequests--,r(s)}function a(s){if(s)return a.errored?void 0:(a.errored=!0,o(s));++i>=n.length&&o(null)}n.forEach(function(s){if(!s.type.syncfs)return a(null);s.type.syncfs(s,e,a)})},mount:function(e,r,n){var i=n==="/",o=!n,a;if(i&&t.root)throw new t.ErrnoError(10);if(!i&&!o){var s=t.lookupPath(n,{follow_mount:!1});if(n=s.path,a=s.node,t.isMountpoint(a))throw new t.ErrnoError(10);if(!t.isDir(a.mode))throw new t.ErrnoError(54)}var u={type:e,opts:r,mountpoint:n,mounts:[]},c=e.mount(u);return c.mount=u,u.root=c,i?t.root=c:a&&(a.mounted=u,a.mount&&a.mount.mounts.push(u)),c},unmount:function(e){var r=t.lookupPath(e,{follow_mount:!1});if(!t.isMountpoint(r.node))throw new t.ErrnoError(28);var n=r.node,i=n.mounted,o=t.getMounts(i);Object.keys(t.nameTable).forEach(function(s){for(var u=t.nameTable[s];u;){var c=u.name_next;o.indexOf(u.mount)!==-1&&t.destroyNode(u),u=c}}),n.mounted=null;var a=n.mount.mounts.indexOf(i);n.mount.mounts.splice(a,1)},lookup:function(e,r){return e.node_ops.lookup(e,r)},mknod:function(e,r,n){var i=t.lookupPath(e,{parent:!0}),o=i.node,a=b.basename(e);if(!a||a==="."||a==="..")throw new t.ErrnoError(28);var s=t.mayCreate(o,a);if(s)throw new t.ErrnoError(s);if(!o.node_ops.mknod)throw new t.ErrnoError(63);return o.node_ops.mknod(o,a,r,n)},create:function(e,r){return r=r!==void 0?r:438,r&=4095,r|=32768,t.mknod(e,r,0)},mkdir:function(e,r){return r=r!==void 0?r:511,r&=1023,r|=16384,t.mknod(e,r,0)},mkdirTree:function(e,r){for(var n=e.split("/"),i="",o=0;o<n.length;++o)if(n[o]){i+="/"+n[o];try{t.mkdir(i,r)}catch(a){if(a.errno!=20)throw a}}},mkdev:function(e,r,n){return typeof n>"u"&&(n=r,r=438),r|=8192,t.mknod(e,r,n)},symlink:function(e,r){if(!Y.resolve(e))throw new t.ErrnoError(44);var n=t.lookupPath(r,{parent:!0}),i=n.node;if(!i)throw new t.ErrnoError(44);var o=b.basename(r),a=t.mayCreate(i,o);if(a)throw new t.ErrnoError(a);if(!i.node_ops.symlink)throw new t.ErrnoError(63);return i.node_ops.symlink(i,o,e)},rename:function(e,r){var n=b.dirname(e),i=b.dirname(r),o=b.basename(e),a=b.basename(r),s,u,c;try{s=t.lookupPath(e,{parent:!0}),u=s.node,s=t.lookupPath(r,{parent:!0}),c=s.node}catch{throw new t.ErrnoError(10)}if(!u||!c)throw new t.ErrnoError(44);if(u.mount!==c.mount)throw new t.ErrnoError(75);var l=t.lookupNode(u,o),v=Y.relative(e,i);if(v.charAt(0)!==".")throw new t.ErrnoError(28);if(v=Y.relative(r,n),v.charAt(0)!==".")throw new t.ErrnoError(55);var m;try{m=t.lookupNode(c,a)}catch{}if(l!==m){var p=t.isDir(l.mode),h=t.mayDelete(u,o,p);if(h)throw new t.ErrnoError(h);if(h=m?t.mayDelete(c,a,p):t.mayCreate(c,a),h)throw new t.ErrnoError(h);if(!u.node_ops.rename)throw new t.ErrnoError(63);if(t.isMountpoint(l)||m&&t.isMountpoint(m))throw new t.ErrnoError(10);if(c!==u&&(h=t.nodePermissions(u,"w"),h))throw new t.ErrnoError(h);try{t.trackingDelegate.willMovePath&&t.trackingDelegate.willMovePath(e,r)}catch(_){O("FS.trackingDelegate['willMovePath']('"+e+"', '"+r+"') threw an exception: "+_.message)}t.hashRemoveNode(l);try{u.node_ops.rename(l,c,a)}catch(_){throw _}finally{t.hashAddNode(l)}try{t.trackingDelegate.onMovePath&&t.trackingDelegate.onMovePath(e,r)}catch(_){O("FS.trackingDelegate['onMovePath']('"+e+"', '"+r+"') threw an exception: "+_.message)}}},rmdir:function(e){var r=t.lookupPath(e,{parent:!0}),n=r.node,i=b.basename(e),o=t.lookupNode(n,i),a=t.mayDelete(n,i,!0);if(a)throw new t.ErrnoError(a);if(!n.node_ops.rmdir)throw new t.ErrnoError(63);if(t.isMountpoint(o))throw new t.ErrnoError(10);try{t.trackingDelegate.willDeletePath&&t.trackingDelegate.willDeletePath(e)}catch(s){O("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+s.message)}n.node_ops.rmdir(n,i),t.destroyNode(o);try{t.trackingDelegate.onDeletePath&&t.trackingDelegate.onDeletePath(e)}catch(s){O("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+s.message)}},readdir:function(e){var r=t.lookupPath(e,{follow:!0}),n=r.node;if(!n.node_ops.readdir)throw new t.ErrnoError(54);return n.node_ops.readdir(n)},unlink:function(e){var r=t.lookupPath(e,{parent:!0}),n=r.node,i=b.basename(e),o=t.lookupNode(n,i),a=t.mayDelete(n,i,!1);if(a)throw new t.ErrnoError(a);if(!n.node_ops.unlink)throw new t.ErrnoError(63);if(t.isMountpoint(o))throw new t.ErrnoError(10);try{t.trackingDelegate.willDeletePath&&t.trackingDelegate.willDeletePath(e)}catch(s){O("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+s.message)}n.node_ops.unlink(n,i),t.destroyNode(o);try{t.trackingDelegate.onDeletePath&&t.trackingDelegate.onDeletePath(e)}catch(s){O("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+s.message)}},readlink:function(e){var r=t.lookupPath(e),n=r.node;if(!n)throw new t.ErrnoError(44);if(!n.node_ops.readlink)throw new t.ErrnoError(28);return Y.resolve(t.getPath(n.parent),n.node_ops.readlink(n))},stat:function(e,r){var n=t.lookupPath(e,{follow:!r}),i=n.node;if(!i)throw new t.ErrnoError(44);if(!i.node_ops.getattr)throw new t.ErrnoError(63);return i.node_ops.getattr(i)},lstat:function(e){return t.stat(e,!0)},chmod:function(e,r,n){var i;if(typeof e=="string"){var o=t.lookupPath(e,{follow:!n});i=o.node}else i=e;if(!i.node_ops.setattr)throw new t.ErrnoError(63);i.node_ops.setattr(i,{mode:r&4095|i.mode&-4096,timestamp:Date.now()})},lchmod:function(e,r){t.chmod(e,r,!0)},fchmod:function(e,r){var n=t.getStream(e);if(!n)throw new t.ErrnoError(8);t.chmod(n.node,r)},chown:function(e,r,n,i){var o;if(typeof e=="string"){var a=t.lookupPath(e,{follow:!i});o=a.node}else o=e;if(!o.node_ops.setattr)throw new t.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:function(e,r,n){t.chown(e,r,n,!0)},fchown:function(e,r,n){var i=t.getStream(e);if(!i)throw new t.ErrnoError(8);t.chown(i.node,r,n)},truncate:function(e,r){if(r<0)throw new t.ErrnoError(28);var n;if(typeof e=="string"){var i=t.lookupPath(e,{follow:!0});n=i.node}else n=e;if(!n.node_ops.setattr)throw new t.ErrnoError(63);if(t.isDir(n.mode))throw new t.ErrnoError(31);if(!t.isFile(n.mode))throw new t.ErrnoError(28);var o=t.nodePermissions(n,"w");if(o)throw new t.ErrnoError(o);n.node_ops.setattr(n,{size:r,timestamp:Date.now()})},ftruncate:function(e,r){var n=t.getStream(e);if(!n)throw new t.ErrnoError(8);if((n.flags&2097155)===0)throw new t.ErrnoError(28);t.truncate(n.node,r)},utime:function(e,r,n){var i=t.lookupPath(e,{follow:!0}),o=i.node;o.node_ops.setattr(o,{timestamp:Math.max(r,n)})},open:function(e,r,n,i,o){if(e==="")throw new t.ErrnoError(44);r=typeof r=="string"?t.modeStringToFlags(r):r,n=typeof n>"u"?438:n,r&64?n=n&4095|32768:n=0;var a;if(typeof e=="object")a=e;else{e=b.normalize(e);try{var s=t.lookupPath(e,{follow:!(r&131072)});a=s.node}catch{}}var u=!1;if(r&64)if(a){if(r&128)throw new t.ErrnoError(20)}else a=t.mknod(e,n,0),u=!0;if(!a)throw new t.ErrnoError(44);if(t.isChrdev(a.mode)&&(r&=-513),r&65536&&!t.isDir(a.mode))throw new t.ErrnoError(54);if(!u){var c=t.mayOpen(a,r);if(c)throw new t.ErrnoError(c)}r&512&&t.truncate(a,0),r&=-131713;var l=t.createStream({node:a,path:t.getPath(a),flags:r,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},i,o);l.stream_ops.open&&l.stream_ops.open(l),f.logReadFiles&&!(r&1)&&(t.readFiles||(t.readFiles={}),e in t.readFiles||(t.readFiles[e]=1,O("FS.trackingDelegate error on read file: "+e)));try{if(t.trackingDelegate.onOpenFile){var v=0;(r&2097155)!==1&&(v|=t.tracking.openFlags.READ),(r&2097155)!==0&&(v|=t.tracking.openFlags.WRITE),t.trackingDelegate.onOpenFile(e,v)}}catch(m){O("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+m.message)}return l},close:function(e){if(t.isClosed(e))throw new t.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(r){throw r}finally{t.closeStream(e.fd)}e.fd=null},isClosed:function(e){return e.fd===null},llseek:function(e,r,n){if(t.isClosed(e))throw new t.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new t.ErrnoError(70);if(n!=0&&n!=1&&n!=2)throw new t.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,n),e.ungotten=[],e.position},read:function(e,r,n,i,o){if(i<0||o<0)throw new t.ErrnoError(28);if(t.isClosed(e))throw new t.ErrnoError(8);if((e.flags&2097155)===1)throw new t.ErrnoError(8);if(t.isDir(e.node.mode))throw new t.ErrnoError(31);if(!e.stream_ops.read)throw new t.ErrnoError(28);var a=typeof o<"u";if(!a)o=e.position;else if(!e.seekable)throw new t.ErrnoError(70);var s=e.stream_ops.read(e,r,n,i,o);return a||(e.position+=s),s},write:function(e,r,n,i,o,a){if(i<0||o<0)throw new t.ErrnoError(28);if(t.isClosed(e))throw new t.ErrnoError(8);if((e.flags&2097155)===0)throw new t.ErrnoError(8);if(t.isDir(e.node.mode))throw new t.ErrnoError(31);if(!e.stream_ops.write)throw new t.ErrnoError(28);e.seekable&&e.flags&1024&&t.llseek(e,0,2);var s=typeof o<"u";if(!s)o=e.position;else if(!e.seekable)throw new t.ErrnoError(70);var u=e.stream_ops.write(e,r,n,i,o,a);s||(e.position+=u);try{e.path&&t.trackingDelegate.onWriteToFile&&t.trackingDelegate.onWriteToFile(e.path)}catch(c){O("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+c.message)}return u},allocate:function(e,r,n){if(t.isClosed(e))throw new t.ErrnoError(8);if(r<0||n<=0)throw new t.ErrnoError(28);if((e.flags&2097155)===0)throw new t.ErrnoError(8);if(!t.isFile(e.node.mode)&&!t.isDir(e.node.mode))throw new t.ErrnoError(43);if(!e.stream_ops.allocate)throw new t.ErrnoError(138);e.stream_ops.allocate(e,r,n)},mmap:function(e,r,n,i,o,a,s){if((a&2)!==0&&(s&2)===0&&(e.flags&2097155)!==2)throw new t.ErrnoError(2);if((e.flags&2097155)===1)throw new t.ErrnoError(2);if(!e.stream_ops.mmap)throw new t.ErrnoError(43);return e.stream_ops.mmap(e,r,n,i,o,a,s)},msync:function(e,r,n,i,o){return!e||!e.stream_ops.msync?0:e.stream_ops.msync(e,r,n,i,o)},munmap:function(e){return 0},ioctl:function(e,r,n){if(!e.stream_ops.ioctl)throw new t.ErrnoError(59);return e.stream_ops.ioctl(e,r,n)},readFile:function(e,r){if(r=r||{},r.flags=r.flags||"r",r.encoding=r.encoding||"binary",r.encoding!=="utf8"&&r.encoding!=="binary")throw new Error('Invalid encoding type "'+r.encoding+'"');var n,i=t.open(e,r.flags),o=t.stat(e),a=o.size,s=new Uint8Array(a);return t.read(i,s,0,a,0),r.encoding==="utf8"?n=fe(s,0):r.encoding==="binary"&&(n=s),t.close(i),n},writeFile:function(e,r,n){n=n||{},n.flags=n.flags||"w";var i=t.open(e,n.flags,n.mode);if(typeof r=="string"){var o=new Uint8Array(Te(r)+1),a=qe(r,o,0,o.length);t.write(i,o,0,a,void 0,n.canOwn)}else if(ArrayBuffer.isView(r))t.write(i,r,0,r.byteLength,void 0,n.canOwn);else throw new Error("Unsupported data type");t.close(i)},cwd:function(){return t.currentPath},chdir:function(e){var r=t.lookupPath(e,{follow:!0});if(r.node===null)throw new t.ErrnoError(44);if(!t.isDir(r.node.mode))throw new t.ErrnoError(54);var n=t.nodePermissions(r.node,"x");if(n)throw new t.ErrnoError(n);t.currentPath=r.path},createDefaultDirectories:function(){t.mkdir("/tmp"),t.mkdir("/home"),t.mkdir("/home/web_user")},createDefaultDevices:function(){t.mkdir("/dev"),t.registerDevice(t.makedev(1,3),{read:function(){return 0},write:function(n,i,o,a,s){return a}}),t.mkdev("/dev/null",t.makedev(1,3)),ie.register(t.makedev(5,0),ie.default_tty_ops),ie.register(t.makedev(6,0),ie.default_tty1_ops),t.mkdev("/dev/tty",t.makedev(5,0)),t.mkdev("/dev/tty1",t.makedev(6,0));var e;if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var r=new Uint8Array(1);e=function(){return crypto.getRandomValues(r),r[0]}}e||(e=function(){$("random_device")}),t.createDevice("/dev","random",e),t.createDevice("/dev","urandom",e),t.mkdir("/dev/shm"),t.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){t.mkdir("/proc"),t.mkdir("/proc/self"),t.mkdir("/proc/self/fd"),t.mount({mount:function(){var e=t.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(r,n){var i=+n,o=t.getStream(i);if(!o)throw new t.ErrnoError(8);var a={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return o.path}}};return a.parent=a,a}},e}},{},"/proc/self/fd")},createStandardStreams:function(){f.stdin?t.createDevice("/dev","stdin",f.stdin):t.symlink("/dev/tty","/dev/stdin"),f.stdout?t.createDevice("/dev","stdout",null,f.stdout):t.symlink("/dev/tty","/dev/stdout"),f.stderr?t.createDevice("/dev","stderr",null,f.stderr):t.symlink("/dev/tty1","/dev/stderr"),t.open("/dev/stdin","r"),t.open("/dev/stdout","w"),t.open("/dev/stderr","w")},ensureErrnoError:function(){t.ErrnoError||(t.ErrnoError=function(r,n){this.node=n,this.setErrno=function(i){this.errno=i},this.setErrno(r),this.message="FS error"},t.ErrnoError.prototype=new Error,t.ErrnoError.prototype.constructor=t.ErrnoError,[44].forEach(function(e){t.genericErrors[e]=new t.ErrnoError(e),t.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){t.ensureErrnoError(),t.nameTable=new Array(4096),t.mount(w,{},"/"),t.createDefaultDirectories(),t.createDefaultDevices(),t.createSpecialDirectories(),t.filesystems={MEMFS:w}},init:function(e,r,n){t.init.initialized=!0,t.ensureErrnoError(),f.stdin=e||f.stdin,f.stdout=r||f.stdout,f.stderr=n||f.stderr,t.createStandardStreams()},quit:function(){t.init.initialized=!1;var e=f._fflush;e&&e(0);for(var r=0;r<t.streams.length;r++){var n=t.streams[r];n&&t.close(n)}},getMode:function(e,r){var n=0;return e&&(n|=365),r&&(n|=146),n},joinPath:function(e,r){var n=b.join.apply(null,e);return r&&n[0]=="/"&&(n=n.substr(1)),n},absolutePath:function(e,r){return Y.resolve(r,e)},standardizePath:function(e){return b.normalize(e)},findObject:function(e,r){var n=t.analyzePath(e,r);return n.exists?n.object:(le(n.error),null)},analyzePath:function(e,r){try{var n=t.lookupPath(e,{follow:!r});e=n.path}catch{}var i={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=t.lookupPath(e,{parent:!0});i.parentExists=!0,i.parentPath=n.path,i.parentObject=n.node,i.name=b.basename(e),n=t.lookupPath(e,{follow:!r}),i.exists=!0,i.path=n.path,i.object=n.node,i.name=n.node.name,i.isRoot=n.path==="/"}catch(o){i.error=o.errno}return i},createFolder:function(e,r,n,i){var o=b.join2(typeof e=="string"?e:t.getPath(e),r),a=t.getMode(n,i);return t.mkdir(o,a)},createPath:function(e,r,n,i){e=typeof e=="string"?e:t.getPath(e);for(var o=r.split("/").reverse();o.length;){var a=o.pop();if(a){var s=b.join2(e,a);try{t.mkdir(s)}catch{}e=s}}return s},createFile:function(e,r,n,i,o){var a=b.join2(typeof e=="string"?e:t.getPath(e),r),s=t.getMode(i,o);return t.create(a,s)},createDataFile:function(e,r,n,i,o,a){var s=r?b.join2(typeof e=="string"?e:t.getPath(e),r):e,u=t.getMode(i,o),c=t.create(s,u);if(n){if(typeof n=="string"){for(var l=new Array(n.length),v=0,m=n.length;v<m;++v)l[v]=n.charCodeAt(v);n=l}t.chmod(c,u|146);var p=t.open(c,"w");t.write(p,n,0,n.length,0,a),t.close(p),t.chmod(c,u)}return c},createDevice:function(e,r,n,i){var o=b.join2(typeof e=="string"?e:t.getPath(e),r),a=t.getMode(!!n,!!i);t.createDevice.major||(t.createDevice.major=64);var s=t.makedev(t.createDevice.major++,0);return t.registerDevice(s,{open:function(u){u.seekable=!1},close:function(u){i&&i.buffer&&i.buffer.length&&i(10)},read:function(u,c,l,v,m){for(var p=0,h=0;h<v;h++){var _;try{_=n()}catch{throw new t.ErrnoError(29)}if(_===void 0&&p===0)throw new t.ErrnoError(6);if(_==null)break;p++,c[l+h]=_}return p&&(u.node.timestamp=Date.now()),p},write:function(u,c,l,v,m){for(var p=0;p<v;p++)try{i(c[l+p])}catch{throw new t.ErrnoError(29)}return v&&(u.node.timestamp=Date.now()),p}}),t.mkdev(o,a,s)},createLink:function(e,r,n,i,o){var a=b.join2(typeof e=="string"?e:t.getPath(e),r);return t.symlink(n,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var r=!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(He)try{e.contents=Le(He(e.url),!0),e.usedBytes=e.contents.length}catch{r=!1}else throw new Error("Cannot load without read() or XMLHttpRequest.");return r||le(29),r},createLazyFile:function(e,r,n,i,o){function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(p){if(!(p>this.length-1||p<0)){var h=p%this.chunkSize,_=p/this.chunkSize|0;return this.getter(_)[h]}},a.prototype.setDataGetter=function(p){this.getter=p},a.prototype.cacheLength=function(){var p=new XMLHttpRequest;if(p.open("HEAD",n,!1),p.send(null),!(p.status>=200&&p.status<300||p.status===304))throw new Error("Couldn't load "+n+". Status: "+p.status);var h=Number(p.getResponseHeader("Content-length")),_,F=(_=p.getResponseHeader("Accept-Ranges"))&&_==="bytes",M=(_=p.getResponseHeader("Content-Encoding"))&&_==="gzip",A=1024*1024;F||(A=h);var d=function(P,E){if(P>E)throw new Error("invalid range ("+P+", "+E+") or no bytes requested!");if(E>h-1)throw new Error("only "+h+" bytes available! programmer error!");var D=new XMLHttpRequest;if(D.open("GET",n,!1),h!==A&&D.setRequestHeader("Range","bytes="+P+"-"+E),typeof Uint8Array<"u"&&(D.responseType="arraybuffer"),D.overrideMimeType&&D.overrideMimeType("text/plain; charset=x-user-defined"),D.send(null),!(D.status>=200&&D.status<300||D.status===304))throw new Error("Couldn't load "+n+". Status: "+D.status);return D.response!==void 0?new Uint8Array(D.response||[]):Le(D.responseText||"",!0)},y=this;y.setDataGetter(function(P){var E=P*A,D=(P+1)*A-1;if(D=Math.min(D,h-1),typeof y.chunks[P]>"u"&&(y.chunks[P]=d(E,D)),typeof y.chunks[P]>"u")throw new Error("doXHR failed!");return y.chunks[P]}),(M||!h)&&(A=h=1,h=this.getter(0).length,A=h,me("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=h,this._chunkSize=A,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!R)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s=new a;Object.defineProperties(s,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var u={isDevice:!1,contents:s}}else var u={isDevice:!1,url:n};var c=t.createFile(e,r,u,i,o);u.contents?c.contents=u.contents:u.url&&(c.contents=null,c.url=u.url),Object.defineProperties(c,{usedBytes:{get:function(){return this.contents.length}}});var l={},v=Object.keys(c.stream_ops);return v.forEach(function(m){var p=c.stream_ops[m];l[m]=function(){if(!t.forceLoadFile(c))throw new t.ErrnoError(29);return p.apply(null,arguments)}}),l.read=function(p,h,_,F,M){if(!t.forceLoadFile(c))throw new t.ErrnoError(29);var A=p.node.contents;if(M>=A.length)return 0;var d=Math.min(A.length-M,F);if(A.slice)for(var y=0;y<d;y++)h[_+y]=A[M+y];else for(var y=0;y<d;y++)h[_+y]=A.get(M+y);return d},c.stream_ops=l,c},createPreloadedFile:function(e,r,n,i,o,a,s,u,c,l){Browser.init();var v=r?Y.resolve(b.join2(e,r)):e;function m(p){function h(F){l&&l(),u||t.createDataFile(e,r,F,i,o,c),a&&a(),Ze()}var _=!1;f.preloadPlugins.forEach(function(F){_||F.canHandle(v)&&(F.handle(p,v,h,function(){s&&s(),Ze()}),_=!0)}),_||h(p)}Pr(),typeof n=="string"?Browser.asyncLoad(n,function(p){m(p)},s):m(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,r,n){r=r||function(){},n=n||function(){};var i=t.indexedDB();try{var o=i.open(t.DB_NAME(),t.DB_VERSION)}catch(a){return n(a)}o.onupgradeneeded=function(){me("creating db");var s=o.result;s.createObjectStore(t.DB_STORE_NAME)},o.onsuccess=function(){var s=o.result,u=s.transaction([t.DB_STORE_NAME],"readwrite"),c=u.objectStore(t.DB_STORE_NAME),l=0,v=0,m=e.length;function p(){v==0?r():n()}e.forEach(function(h){var _=c.put(t.analyzePath(h).object.contents,h);_.onsuccess=function(){l++,l+v==m&&p()},_.onerror=function(){v++,l+v==m&&p()}}),u.onerror=n},o.onerror=n},loadFilesFromDB:function(e,r,n){r=r||function(){},n=n||function(){};var i=t.indexedDB();try{var o=i.open(t.DB_NAME(),t.DB_VERSION)}catch(a){return n(a)}o.onupgradeneeded=n,o.onsuccess=function(){var s=o.result;try{var u=s.transaction([t.DB_STORE_NAME],"readonly")}catch(h){n(h);return}var c=u.objectStore(t.DB_STORE_NAME),l=0,v=0,m=e.length;function p(){v==0?r():n()}e.forEach(function(h){var _=c.get(h);_.onsuccess=function(){t.analyzePath(h).exists&&t.unlink(h),t.createDataFile(b.dirname(h),b.basename(h),_.result,!0,!0,!0),l++,l+v==m&&p()},_.onerror=function(){v++,l+v==m&&p()}}),u.onerror=n},o.onerror=n}},S={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(e,r){if(r[0]!=="/"){var n;if(e===-100)n=t.cwd();else{var i=t.getStream(e);if(!i)throw new t.ErrnoError(8);n=i.path}r=b.join2(n,r)}return r},doStat:function(e,r,n){try{var i=e(r)}catch(o){if(o&&o.node&&b.normalize(r)!==b.normalize(t.getPath(o.node)))return-54;throw o}return g[n>>2]=i.dev,g[n+4>>2]=0,g[n+8>>2]=i.ino,g[n+12>>2]=i.mode,g[n+16>>2]=i.nlink,g[n+20>>2]=i.uid,g[n+24>>2]=i.gid,g[n+28>>2]=i.rdev,g[n+32>>2]=0,K=[i.size>>>0,(x=i.size,+Ge(x)>=1?x>0?(Je(+Ke(x/4294967296),4294967295)|0)>>>0:~~+Xe((x-+(~~x>>>0))/4294967296)>>>0:0)],g[n+40>>2]=K[0],g[n+44>>2]=K[1],g[n+48>>2]=4096,g[n+52>>2]=i.blocks,g[n+56>>2]=i.atime.getTime()/1e3|0,g[n+60>>2]=0,g[n+64>>2]=i.mtime.getTime()/1e3|0,g[n+68>>2]=0,g[n+72>>2]=i.ctime.getTime()/1e3|0,g[n+76>>2]=0,K=[i.ino>>>0,(x=i.ino,+Ge(x)>=1?x>0?(Je(+Ke(x/4294967296),4294967295)|0)>>>0:~~+Xe((x-+(~~x>>>0))/4294967296)>>>0:0)],g[n+80>>2]=K[0],g[n+84>>2]=K[1],0},doMsync:function(e,r,n,i,o){var a=N.slice(e,e+n);t.msync(r,a,o,n,i)},doMkdir:function(e,r){return e=b.normalize(e),e[e.length-1]==="/"&&(e=e.substr(0,e.length-1)),t.mkdir(e,r,0),0},doMknod:function(e,r,n){switch(r&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return t.mknod(e,r,n),0},doReadlink:function(e,r,n){if(n<=0)return-28;var i=t.readlink(e),o=Math.min(n,Te(i)),a=I[r+o];return pr(i,r,n+1),I[r+o]=a,o},doAccess:function(e,r){if(r&-8)return-28;var n,i=t.lookupPath(e,{follow:!0});if(n=i.node,!n)return-44;var o="";return r&4&&(o+="r"),r&2&&(o+="w"),r&1&&(o+="x"),o&&t.nodePermissions(n,o)?-2:0},doDup:function(e,r,n){var i=t.getStream(n);return i&&t.close(i),t.open(e,r,0,n,n).fd},doReadv:function(e,r,n,i){for(var o=0,a=0;a<n;a++){var s=g[r+a*8>>2],u=g[r+(a*8+4)>>2],c=t.read(e,I,s,u,i);if(c<0)return-1;if(o+=c,c<u)break}return o},doWritev:function(e,r,n,i){for(var o=0,a=0;a<n;a++){var s=g[r+a*8>>2],u=g[r+(a*8+4)>>2],c=t.write(e,I,s,u,i);if(c<0)return-1;o+=c}return o},varargs:void 0,get:function(){S.varargs+=4;var e=g[S.varargs-4>>2];return e},getStr:function(e){var r=Se(e);return r},getStreamFromFD:function(e){var r=t.getStream(e);if(!r)throw new t.ErrnoError(8);return r},get64:function(e,r){return e}};function Fn(e,r,n){S.varargs=n;try{var i=S.getStreamFromFD(e);switch(r){case 0:{var o=S.get();if(o<0)return-28;var a;return a=t.open(i.path,i.flags,0,o),a.fd}case 1:case 2:return 0;case 3:return i.flags;case 4:{var o=S.get();return i.flags|=o,0}case 12:{var o=S.get(),s=0;return Q[o+s>>1]=2,0}case 13:case 14:return 0;case 16:case 8:return-28;case 9:return le(28),-1;default:return-28}}catch(u){return(typeof t>"u"||!(u instanceof t.ErrnoError))&&$(u),-u.errno}}function Sn(e,r){try{var n=S.getStreamFromFD(e);return S.doStat(t.stat,n.path,r)}catch(i){return(typeof t>"u"||!(i instanceof t.ErrnoError))&&$(i),-i.errno}}function Tn(e,r,n){S.varargs=n;try{var i=S.getStreamFromFD(e);switch(r){case 21509:case 21505:return i.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return i.tty?0:-59;case 21519:{if(!i.tty)return-59;var o=S.get();return g[o>>2]=0,0}case 21520:return i.tty?-28:-59;case 21531:{var o=S.get();return t.ioctl(i,r,o)}case 21523:return i.tty?0:-59;case 21524:return i.tty?0:-59;default:$("bad ioctl syscall "+r)}}catch(a){return(typeof t>"u"||!(a instanceof t.ErrnoError))&&$(a),-a.errno}}function Cn(e,r,n){return 0}function An(e,r,n,i,o,a){a<<=12;var s,u=!1;if((i&16)!==0&&e%16384!==0)return-28;if((i&32)!==0){if(s=Gr(16384,r),!s)return-48;Yr(s,0,r),u=!0}else{var c=t.getStream(o);if(!c)return-8;var l=t.mmap(c,N,e,r,a,n,i);s=l.ptr,u=l.allocated}return S.mappings[s]={malloc:s,len:r,allocated:u,fd:o,prot:n,flags:i,offset:a},s}function Mn(e,r,n,i,o,a){try{return An(e,r,n,i,o,a)}catch(s){return(typeof t>"u"||!(s instanceof t.ErrnoError))&&$(s),-s.errno}}function Rn(e,r){if((e|0)===-1||r===0)return-28;var n=S.mappings[e];if(!n)return 0;if(r===n.len){var i=t.getStream(n.fd);n.prot&2&&S.doMsync(e,i,r,n.flags,n.offset),S.mappings[e]=null,n.allocated&&G(n.malloc)}return 0}function On(e,r){try{return Rn(e,r)}catch(n){return(typeof t>"u"||!(n instanceof t.ErrnoError))&&$(n),-n.errno}}function $n(e,r,n){S.varargs=n;try{var i=S.getStr(e),o=S.get(),a=t.open(i,r,o);return a.fd}catch(s){return(typeof t>"u"||!(s instanceof t.ErrnoError))&&$(s),-s.errno}}function xn(e,r){try{return e=S.getStr(e),S.doStat(t.stat,e,r)}catch(n){return(typeof t>"u"||!(n instanceof t.ErrnoError))&&$(n),-n.errno}}function Ae(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function Nn(){for(var e=new Array(256),r=0;r<256;++r)e[r]=String.fromCharCode(r);Sr=e}var Sr=void 0;function W(e){for(var r="",n=e;N[n];)r+=Sr[N[n++]];return r}var de={},oe={},Me={},jn=48,In=57;function Qe(e){if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var r=e.charCodeAt(0);return r>=jn&&r<=In?"_"+e:e}function Re(e,r){return e=Qe(e),new Function("body","return function "+e+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(r)}function er(e,r){var n=Re(r,function(i){this.name=r,this.message=i;var o=new Error(i).stack;o!==void 0&&(this.stack=this.toString()+`
`+o.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},n}var ve=void 0;function k(e){throw new ve(e)}var Tr=void 0;function Oe(e){throw new Tr(e)}function pe(e,r,n){e.forEach(function(u){Me[u]=r});function i(u){var c=n(u);c.length!==e.length&&Oe("Mismatched type converter count");for(var l=0;l<e.length;++l)V(e[l],c[l])}var o=new Array(r.length),a=[],s=0;r.forEach(function(u,c){oe.hasOwnProperty(u)?o[c]=oe[u]:(a.push(u),de.hasOwnProperty(u)||(de[u]=[]),de[u].push(function(){o[c]=oe[u],++s,s===a.length&&i(o)}))}),a.length===0&&i(o)}function V(e,r,n){if(n=n||{},!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");var i=r.name;if(e||k('type "'+i+'" must have a positive integer typeid pointer'),oe.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;k("Cannot register type '"+i+"' twice")}if(oe[e]=r,delete Me[e],de.hasOwnProperty(e)){var o=de[e];delete de[e],o.forEach(function(a){a()})}}function Wn(e,r,n,i,o){var a=Ae(n);r=W(r),V(e,{name:r,fromWireType:function(s){return!!s},toWireType:function(s,u){return u?i:o},argPackAdvance:8,readValueFromPointer:function(s){var u;if(n===1)u=I;else if(n===2)u=Q;else if(n===4)u=g;else throw new TypeError("Unknown boolean type size: "+r);return this.fromWireType(u[s>>a])},destructorFunction:null})}function Bn(e){if(!(this instanceof re)||!(e instanceof re))return!1;for(var r=this.$$.ptrType.registeredClass,n=this.$$.ptr,i=e.$$.ptrType.registeredClass,o=e.$$.ptr;r.baseClass;)n=r.upcast(n),r=r.baseClass;for(;i.baseClass;)o=i.upcast(o),i=i.baseClass;return r===i&&n===o}function Ln(e){return{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}}function rr(e){function r(n){return n.$$.ptrType.registeredClass.name}k(r(e)+" instance already deleted")}var nr=!1;function Cr(e){}function Un(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}function Ar(e){e.count.value-=1;var r=e.count.value===0;r&&Un(e)}function we(e){return typeof FinalizationGroup>"u"?(we=function(r){return r},e):(nr=new FinalizationGroup(function(r){for(var n=r.next();!n.done;n=r.next()){var i=n.value;i.ptr?Ar(i):console.warn("object already deleted: "+i.ptr)}}),we=function(r){return nr.register(r,r.$$,r.$$),r},Cr=function(r){nr.unregister(r.$$)},we(e))}function Hn(){if(this.$$.ptr||rr(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=we(Object.create(Object.getPrototypeOf(this),{$$:{value:Ln(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function zn(){this.$$.ptr||rr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&k("Object already scheduled for deletion"),Cr(this),Ar(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Yn(){return!this.$$.ptr}var Ee=void 0,be=[];function tr(){for(;be.length;){var e=be.pop();e.$$.deleteScheduled=!1,e.delete()}}function Vn(){return this.$$.ptr||rr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&k("Object already scheduled for deletion"),be.push(this),be.length===1&&Ee&&Ee(tr),this.$$.deleteScheduled=!0,this}function qn(){re.prototype.isAliasOf=Bn,re.prototype.clone=Hn,re.prototype.delete=zn,re.prototype.isDeleted=Yn,re.prototype.deleteLater=Vn}function re(){}var Mr={};function Rr(e,r,n){if(e[r].overloadTable===void 0){var i=e[r];e[r]=function(){return e[r].overloadTable.hasOwnProperty(arguments.length)||k("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[r].overloadTable+")!"),e[r].overloadTable[arguments.length].apply(this,arguments)},e[r].overloadTable=[],e[r].overloadTable[i.argCount]=i}}function ir(e,r,n){f.hasOwnProperty(e)?((n===void 0||f[e].overloadTable!==void 0&&f[e].overloadTable[n]!==void 0)&&k("Cannot register public name '"+e+"' twice"),Rr(f,e,e),f.hasOwnProperty(n)&&k("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),f[e].overloadTable[n]=r):(f[e]=r,n!==void 0&&(f[e].numArguments=n))}function Gn(e,r,n,i,o,a,s,u){this.name=e,this.constructor=r,this.instancePrototype=n,this.rawDestructor=i,this.baseClass=o,this.getActualType=a,this.upcast=s,this.downcast=u,this.pureVirtualFunctions=[]}function or(e,r,n){for(;r!==n;)r.upcast||k("Expected null or instance of "+n.name+", got an instance of "+r.name),e=r.upcast(e),r=r.baseClass;return e}function Xn(e,r){if(r===null)return this.isReference&&k("null is not a valid "+this.name),0;r.$$||k('Cannot pass "'+he(r)+'" as a '+this.name),r.$$.ptr||k("Cannot pass deleted object as a pointer of type "+this.name);var n=r.$$.ptrType.registeredClass,i=or(r.$$.ptr,n,this.registeredClass);return i}function Kn(e,r){var n;if(r===null)return this.isReference&&k("null is not a valid "+this.name),this.isSmartPointer?(n=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,n),n):0;r.$$||k('Cannot pass "'+he(r)+'" as a '+this.name),r.$$.ptr||k("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&r.$$.ptrType.isConst&&k("Cannot convert argument of type "+(r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name)+" to parameter type "+this.name);var i=r.$$.ptrType.registeredClass;if(n=or(r.$$.ptr,i,this.registeredClass),this.isSmartPointer)switch(r.$$.smartPtr===void 0&&k("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:r.$$.smartPtrType===this?n=r.$$.smartPtr:k("Cannot convert argument of type "+(r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:n=r.$$.smartPtr;break;case 2:if(r.$$.smartPtrType===this)n=r.$$.smartPtr;else{var o=r.clone();n=this.rawShare(n,Wr(function(){o.delete()})),e!==null&&e.push(this.rawDestructor,n)}break;default:k("Unsupporting sharing policy")}return n}function Jn(e,r){if(r===null)return this.isReference&&k("null is not a valid "+this.name),0;r.$$||k('Cannot pass "'+he(r)+'" as a '+this.name),r.$$.ptr||k("Cannot pass deleted object as a pointer of type "+this.name),r.$$.ptrType.isConst&&k("Cannot convert argument of type "+r.$$.ptrType.name+" to parameter type "+this.name);var n=r.$$.ptrType.registeredClass,i=or(r.$$.ptr,n,this.registeredClass);return i}function $e(e){return this.fromWireType(z[e>>2])}function Zn(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function Qn(e){this.rawDestructor&&this.rawDestructor(e)}function et(e){e!==null&&e.delete()}function Or(e,r,n){if(r===n)return e;if(n.baseClass===void 0)return null;var i=Or(e,r,n.baseClass);return i===null?null:n.downcast(i)}function rt(){return Object.keys(ke).length}function nt(){var e=[];for(var r in ke)ke.hasOwnProperty(r)&&e.push(ke[r]);return e}function tt(e){Ee=e,be.length&&Ee&&Ee(tr)}function it(){f.getInheritedInstanceCount=rt,f.getLiveInheritedInstances=nt,f.flushPendingDeletes=tr,f.setDelayFunction=tt}var ke={};function ot(e,r){for(r===void 0&&k("ptr should not be undefined");e.baseClass;)r=e.upcast(r),e=e.baseClass;return r}function at(e,r){return r=ot(e,r),ke[r]}function xe(e,r){(!r.ptrType||!r.ptr)&&Oe("makeClassHandle requires ptr and ptrType");var n=!!r.smartPtrType,i=!!r.smartPtr;return n!==i&&Oe("Both smartPtrType and smartPtr must be specified"),r.count={value:1},we(Object.create(e,{$$:{value:r}}))}function st(e){var r=this.getPointee(e);if(!r)return this.destructor(e),null;var n=at(this.registeredClass,r);if(n!==void 0){if(n.$$.count.value===0)return n.$$.ptr=r,n.$$.smartPtr=e,n.clone();var i=n.clone();return this.destructor(e),i}function o(){return this.isSmartPointer?xe(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:e}):xe(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var a=this.registeredClass.getActualType(r),s=Mr[a];if(!s)return o.call(this);var u;this.isConst?u=s.constPointerType:u=s.pointerType;var c=Or(r,this.registeredClass,u.registeredClass);return c===null?o.call(this):this.isSmartPointer?xe(u.registeredClass.instancePrototype,{ptrType:u,ptr:c,smartPtrType:this,smartPtr:e}):xe(u.registeredClass.instancePrototype,{ptrType:u,ptr:c})}function ut(){J.prototype.getPointee=Zn,J.prototype.destructor=Qn,J.prototype.argPackAdvance=8,J.prototype.readValueFromPointer=$e,J.prototype.deleteObject=et,J.prototype.fromWireType=st}function J(e,r,n,i,o,a,s,u,c,l,v){this.name=e,this.registeredClass=r,this.isReference=n,this.isConst=i,this.isSmartPointer=o,this.pointeeType=a,this.sharingPolicy=s,this.rawGetPointee=u,this.rawConstructor=c,this.rawShare=l,this.rawDestructor=v,!o&&r.baseClass===void 0?i?(this.toWireType=Xn,this.destructorFunction=null):(this.toWireType=Jn,this.destructorFunction=null):this.toWireType=Kn}function $r(e,r,n){f.hasOwnProperty(e)||Oe("Replacing nonexistant public symbol"),f[e].overloadTable!==void 0&&n!==void 0?f[e].overloadTable[n]=r:(f[e]=r,f[e].argCount=n)}function ae(e,r){e=W(e);function n(a){for(var s=[],u=1;u<e.length;++u)s.push("a"+u);var c="dynCall_"+e+"_"+r,l="return function "+c+"("+s.join(", ")+`) {
`;return l+="    return dynCall(rawFunction"+(s.length?", ":"")+s.join(", ")+`);
`,l+=`};
`,new Function("dynCall","rawFunction",l)(a,r)}var i=f["dynCall_"+e],o=n(i);return typeof o!="function"&&k("unknown function pointer with signature "+e+": "+r),o}var xr=void 0;function Nr(e){var r=Vr(e),n=W(r);return G(r),n}function Ne(e,r){var n=[],i={};function o(a){if(!i[a]&&!oe[a]){if(Me[a]){Me[a].forEach(o);return}n.push(a),i[a]=!0}}throw r.forEach(o),new xr(e+": "+n.map(Nr).join([", "]))}function ft(e,r,n,i,o,a,s,u,c,l,v,m,p){v=W(v),a=ae(o,a),u&&(u=ae(s,u)),l&&(l=ae(c,l)),p=ae(m,p);var h=Qe(v);ir(h,function(){Ne("Cannot construct "+v+" due to unbound types",[i])}),pe([e,r,n],i?[i]:[],function(_){_=_[0];var F,M;i?(F=_.registeredClass,M=F.instancePrototype):M=re.prototype;var A=Re(h,function(){if(Object.getPrototypeOf(this)!==d)throw new ve("Use 'new' to construct "+v);if(y.constructor_body===void 0)throw new ve(v+" has no accessible constructor");var L=y.constructor_body[arguments.length];if(L===void 0)throw new ve("Tried to invoke ctor of "+v+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(y.constructor_body).toString()+") parameters instead!");return L.apply(this,arguments)}),d=Object.create(M,{constructor:{value:A}});A.prototype=d;var y=new Gn(v,A,d,p,F,a,u,l),P=new J(v,y,!0,!1,!1),E=new J(v+"*",y,!1,!1,!1),D=new J(v+" const*",y,!1,!0,!1);return Mr[e]={pointerType:E,constPointerType:D},$r(h,A),[P,E,D]})}function ar(e,r){for(var n=[],i=0;i<e;i++)n.push(g[(r>>2)+i]);return n}function jr(e){for(;e.length;){var r=e.pop(),n=e.pop();n(r)}}function ct(e,r,n,i,o,a){Kr(r>0);var s=ar(r,n);o=ae(i,o);var u=[a],c=[];pe([],[e],function(l){l=l[0];var v="constructor "+l.name;if(l.registeredClass.constructor_body===void 0&&(l.registeredClass.constructor_body=[]),l.registeredClass.constructor_body[r-1]!==void 0)throw new ve("Cannot register multiple constructors with identical number of parameters ("+(r-1)+") for class '"+l.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return l.registeredClass.constructor_body[r-1]=function(){Ne("Cannot construct "+l.name+" due to unbound types",s)},pe([],s,function(m){return l.registeredClass.constructor_body[r-1]=function(){arguments.length!==r-1&&k(v+" called with "+arguments.length+" arguments, expected "+(r-1)),c.length=0,u.length=r;for(var h=1;h<r;++h)u[h]=m[h].toWireType(c,arguments[h-1]);var _=o.apply(null,u);return jr(c),m[0].fromWireType(_)},[]}),[]})}function lt(e,r){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var n=Re(e.name||"unknownFunctionName",function(){});n.prototype=e.prototype;var i=new n,o=e.apply(i,r);return o instanceof Object?o:i}function Ir(e,r,n,i,o){var a=r.length;a<2&&k("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var s=r[1]!==null&&n!==null,u=!1,c=1;c<r.length;++c)if(r[c]!==null&&r[c].destructorFunction===void 0){u=!0;break}for(var l=r[0].name!=="void",v="",m="",c=0;c<a-2;++c)v+=(c!==0?", ":"")+"arg"+c,m+=(c!==0?", ":"")+"arg"+c+"Wired";var p="return function "+Qe(e)+"("+v+`) {
if (arguments.length !== `+(a-2)+`) {
throwBindingError('function `+e+" called with ' + arguments.length + ' arguments, expected "+(a-2)+` args!');
}
`;u&&(p+=`var destructors = [];
`);var h=u?"destructors":"null",_=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],F=[k,i,o,jr,r[0],r[1]];s&&(p+="var thisWired = classParam.toWireType("+h+`, this);
`);for(var c=0;c<a-2;++c)p+="var arg"+c+"Wired = argType"+c+".toWireType("+h+", arg"+c+"); // "+r[c+2].name+`
`,_.push("argType"+c),F.push(r[c+2]);if(s&&(m="thisWired"+(m.length>0?", ":"")+m),p+=(l?"var rv = ":"")+"invoker(fn"+(m.length>0?", ":"")+m+`);
`,u)p+=`runDestructors(destructors);
`;else for(var c=s?1:2;c<r.length;++c){var M=c===1?"thisWired":"arg"+(c-2)+"Wired";r[c].destructorFunction!==null&&(p+=M+"_dtor("+M+"); // "+r[c].name+`
`,_.push(M+"_dtor"),F.push(r[c].destructorFunction))}l&&(p+=`var ret = retType.fromWireType(rv);
return ret;
`),p+=`}
`,_.push(p);var A=lt(Function,_).apply(null,F);return A}function dt(e,r,n,i,o,a,s,u){var c=ar(n,i);r=W(r),a=ae(o,a),pe([],[e],function(l){l=l[0];var v=l.name+"."+r;u&&l.registeredClass.pureVirtualFunctions.push(r);function m(){Ne("Cannot call "+v+" due to unbound types",c)}var p=l.registeredClass.instancePrototype,h=p[r];return h===void 0||h.overloadTable===void 0&&h.className!==l.name&&h.argCount===n-2?(m.argCount=n-2,m.className=l.name,p[r]=m):(Rr(p,r,v),p[r].overloadTable[n-2]=m),pe([],c,function(_){var F=Ir(v,_,l,a,s);return p[r].overloadTable===void 0?(F.argCount=n-2,p[r]=F):p[r].overloadTable[n-2]=F,[]}),[]})}var sr=[],q=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function vt(e){e>4&&--q[e].refcount===0&&(q[e]=void 0,sr.push(e))}function pt(){for(var e=0,r=5;r<q.length;++r)q[r]!==void 0&&++e;return e}function ht(){for(var e=5;e<q.length;++e)if(q[e]!==void 0)return q[e];return null}function mt(){f.count_emval_handles=pt,f.get_first_emval=ht}function Wr(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var r=sr.length?sr.pop():q.length;return q[r]={refcount:1,value:e},r}}}function yt(e,r){r=W(r),V(e,{name:r,fromWireType:function(n){var i=q[n].value;return vt(n),i},toWireType:function(n,i){return Wr(i)},argPackAdvance:8,readValueFromPointer:$e,destructorFunction:null})}function gt(e,r,n){switch(r){case 0:return function(i){var o=n?I:N;return this.fromWireType(o[i])};case 1:return function(i){var o=n?Q:ge;return this.fromWireType(o[i>>1])};case 2:return function(i){var o=n?g:z;return this.fromWireType(o[i>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function _t(e,r,n,i){var o=Ae(n);r=W(r);function a(){}a.values={},V(e,{name:r,constructor:a,fromWireType:function(s){return this.constructor.values[s]},toWireType:function(s,u){return u.value},argPackAdvance:8,readValueFromPointer:gt(r,o,i),destructorFunction:null}),ir(r,a)}function wt(e,r){var n=oe[e];return n===void 0&&k(r+" has unknown type "+Nr(e)),n}function Et(e,r,n){var i=wt(e,"enum");r=W(r);var o=i.constructor,a=Object.create(i.constructor.prototype,{value:{value:n},constructor:{value:Re(i.name+"_"+r,function(){})}});o.values[n]=a,o[r]=a}function he(e){if(e===null)return"null";var r=typeof e;return r==="object"||r==="array"||r==="function"?e.toString():""+e}function bt(e,r){switch(r){case 2:return function(n){return this.fromWireType(yr[n>>2])};case 3:return function(n){return this.fromWireType(gr[n>>3])};default:throw new TypeError("Unknown float type: "+e)}}function kt(e,r,n){var i=Ae(n);r=W(r),V(e,{name:r,fromWireType:function(o){return o},toWireType:function(o,a){if(typeof a!="number"&&typeof a!="boolean")throw new TypeError('Cannot convert "'+he(a)+'" to '+this.name);return a},argPackAdvance:8,readValueFromPointer:bt(r,i),destructorFunction:null})}function Pt(e,r,n,i,o,a){var s=ar(r,n);e=W(e),o=ae(i,o),ir(e,function(){Ne("Cannot call "+e+" due to unbound types",s)},r-1),pe([],s,function(u){var c=[u[0],null].concat(u.slice(1));return $r(e,Ir(e,c,null,o,a),r-1),[]})}function Dt(e,r,n){switch(r){case 0:return n?function(o){return I[o]}:function(o){return N[o]};case 1:return n?function(o){return Q[o>>1]}:function(o){return ge[o>>1]};case 2:return n?function(o){return g[o>>2]}:function(o){return z[o>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function Ft(e,r,n,i,o){r=W(r),o===-1&&(o=4294967295);var a=Ae(n),s=function(l){return l};if(i===0){var u=32-8*n;s=function(l){return l<<u>>>u}}var c=r.indexOf("unsigned")!=-1;V(e,{name:r,fromWireType:s,toWireType:function(l,v){if(typeof v!="number"&&typeof v!="boolean")throw new TypeError('Cannot convert "'+he(v)+'" to '+this.name);if(v<i||v>o)throw new TypeError('Passing a number "'+he(v)+'" from JS side to C/C++ side to an argument of type "'+r+'", which is outside the valid range ['+i+", "+o+"]!");return c?v>>>0:v|0},argPackAdvance:8,readValueFromPointer:Dt(r,a,i!==0),destructorFunction:null})}function St(e,r,n){var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],o=i[r];function a(s){s=s>>2;var u=z,c=u[s],l=u[s+1];return new o(ce,l,c)}n=W(n),V(e,{name:n,fromWireType:a,argPackAdvance:8,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})}function Tt(e,r){r=W(r);var n=r==="std::string";V(e,{name:r,fromWireType:function(i){var o=z[i>>2],a;if(n)for(var s=i+4,u=0;u<=o;++u){var c=i+4+u;if(N[c]==0||u==o){var l=c-s,v=Se(s,l);a===void 0?a=v:(a+="\0",a+=v),s=c+1}}else{for(var m=new Array(o),u=0;u<o;++u)m[u]=String.fromCharCode(N[i+4+u]);a=m.join("")}return G(i),a},toWireType:function(i,o){o instanceof ArrayBuffer&&(o=new Uint8Array(o));var a,s=typeof o=="string";s||o instanceof Uint8Array||o instanceof Uint8ClampedArray||o instanceof Int8Array||k("Cannot pass non-string to std::string"),n&&s?a=function(){return Te(o)}:a=function(){return o.length};var u=a(),c=De(4+u+1);if(z[c>>2]=u,n&&s)pr(o,c+4,u+1);else if(s)for(var l=0;l<u;++l){var v=o.charCodeAt(l);v>255&&(G(c),k("String has UTF-16 code units that do not fit in 8 bits")),N[c+4+l]=v}else for(var l=0;l<u;++l)N[c+4+l]=o[l];return i!==null&&i.push(G,c),c},argPackAdvance:8,readValueFromPointer:$e,destructorFunction:function(i){G(i)}})}function Ct(e,r,n){n=W(n);var i,o,a,s,u;r===2?(i=Jr,o=Zr,s=Qr,a=function(){return ge},u=1):r===4&&(i=en,o=rn,s=nn,a=function(){return z},u=2),V(e,{name:n,fromWireType:function(c){for(var l=z[c>>2],v=a(),m,p=c+4,h=0;h<=l;++h){var _=c+4+h*r;if(v[_>>u]==0||h==l){var F=_-p,M=i(p,F);m===void 0?m=M:(m+="\0",m+=M),p=_+r}}return G(c),m},toWireType:function(c,l){typeof l!="string"&&k("Cannot pass non-string to C++ string type "+n);var v=s(l),m=De(4+v+r);return z[m>>2]=v>>u,o(l,m+4,v+r),c!==null&&c.push(G,m),m},argPackAdvance:8,readValueFromPointer:$e,destructorFunction:function(c){G(c)}})}function At(e,r){r=W(r),V(e,{isVoid:!0,name:r,argPackAdvance:0,fromWireType:function(){},toWireType:function(n,i){}})}function Mt(){$()}var Br;Br=function(){return performance.now()};var Rt=!0;function Ot(e,r){var n;if(e===0)n=Date.now();else if((e===1||e===4)&&Rt)n=Br();else return le(28),-1;return g[r>>2]=n/1e3|0,g[r+4>>2]=n%1e3*1e3*1e3|0,0}function $t(e,r,n){N.copyWithin(e,r,r+n)}function xt(){return N.length}function Nt(e){try{return ne.grow(e-ce.byteLength+65535>>>16),_r(ne.buffer),1}catch{}}function jt(e){e=e>>>0;var r=xt(),n=65536,i=1073741824;if(e>i)return!1;for(var o=16777216,a=1;a<=4;a*=2){var s=r*(1+.2/a);s=Math.min(s,e+100663296);var u=Math.min(i,an(Math.max(o,e,s),n)),c=Nt(u);if(c)return!0}return!1}var Lr={};function It(){return X||"./this.program"}function Pe(){if(!Pe.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:It()};for(var r in Lr)e[r]=Lr[r];var n=[];for(var r in e)n.push(r+"="+e[r]);Pe.strings=n}return Pe.strings}function Wt(e,r){var n=0;return Pe().forEach(function(i,o){var a=r+n;g[e+o*4>>2]=a,on(i,a),n+=i.length+1}),0}function Bt(e,r){var n=Pe();g[e>>2]=n.length;var i=0;return n.forEach(function(o){i+=o.length+1}),g[r>>2]=i,0}function Lt(e){ri(e)}function Ut(e){try{var r=S.getStreamFromFD(e);return t.close(r),0}catch(n){return(typeof t>"u"||!(n instanceof t.ErrnoError))&&$(n),n.errno}}function Ht(e,r){try{var n=S.getStreamFromFD(e),i=n.tty?2:t.isDir(n.mode)?3:t.isLink(n.mode)?7:4;return I[r>>0]=i,0}catch(o){return(typeof t>"u"||!(o instanceof t.ErrnoError))&&$(o),o.errno}}function zt(e,r,n,i){try{var o=S.getStreamFromFD(e),a=S.doReadv(o,r,n);return g[i>>2]=a,0}catch(s){return(typeof t>"u"||!(s instanceof t.ErrnoError))&&$(s),s.errno}}function Yt(e,r,n,i,o){try{var a=S.getStreamFromFD(e),s=4294967296,u=n*s+(r>>>0),c=9007199254740992;return u<=-c||u>=c?-61:(t.llseek(a,u,i),K=[a.position>>>0,(x=a.position,+Ge(x)>=1?x>0?(Je(+Ke(x/4294967296),4294967295)|0)>>>0:~~+Xe((x-+(~~x>>>0))/4294967296)>>>0:0)],g[o>>2]=K[0],g[o+4>>2]=K[1],a.getdents&&u===0&&i===0&&(a.getdents=null),0)}catch(l){return(typeof t>"u"||!(l instanceof t.ErrnoError))&&$(l),l.errno}}function Vt(e,r,n,i){try{var o=S.getStreamFromFD(e),a=S.doWritev(o,r,n);return g[i>>2]=a,0}catch(s){return(typeof t>"u"||!(s instanceof t.ErrnoError))&&$(s),s.errno}}function qt(){return 6}function Gt(){}function Xt(){}function Kt(e){}function je(e){return e%4===0&&(e%100!==0||e%400===0)}function ur(e,r){for(var n=0,i=0;i<=r;n+=e[i++]);return n}var Ie=[31,29,31,30,31,30,31,31,30,31,30,31],We=[31,28,31,30,31,30,31,31,30,31,30,31];function Be(e,r){for(var n=new Date(e.getTime());r>0;){var i=je(n.getFullYear()),o=n.getMonth(),a=(i?Ie:We)[o];if(r>a-n.getDate())r-=a-n.getDate()+1,n.setDate(1),o<11?n.setMonth(o+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1));else return n.setDate(n.getDate()+r),n}return n}function Jt(e,r,n,i){var o=g[i+40>>2],a={tm_sec:g[i>>2],tm_min:g[i+4>>2],tm_hour:g[i+8>>2],tm_mday:g[i+12>>2],tm_mon:g[i+16>>2],tm_year:g[i+20>>2],tm_wday:g[i+24>>2],tm_yday:g[i+28>>2],tm_isdst:g[i+32>>2],tm_gmtoff:g[i+36>>2],tm_zone:o?Se(o):""},s=Se(n),u={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var c in u)s=s.replace(new RegExp(c,"g"),u[c]);var l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],v=["January","February","March","April","May","June","July","August","September","October","November","December"];function m(d,y,P){for(var E=typeof d=="number"?d.toString():d||"";E.length<y;)E=P[0]+E;return E}function p(d,y){return m(d,y,"0")}function h(d,y){function P(D){return D<0?-1:D>0?1:0}var E;return(E=P(d.getFullYear()-y.getFullYear()))===0&&(E=P(d.getMonth()-y.getMonth()))===0&&(E=P(d.getDate()-y.getDate())),E}function _(d){switch(d.getDay()){case 0:return new Date(d.getFullYear()-1,11,29);case 1:return d;case 2:return new Date(d.getFullYear(),0,3);case 3:return new Date(d.getFullYear(),0,2);case 4:return new Date(d.getFullYear(),0,1);case 5:return new Date(d.getFullYear()-1,11,31);case 6:return new Date(d.getFullYear()-1,11,30)}}function F(d){var y=Be(new Date(d.tm_year+1900,0,1),d.tm_yday),P=new Date(y.getFullYear(),0,4),E=new Date(y.getFullYear()+1,0,4),D=_(P),L=_(E);return h(D,y)<=0?h(L,y)<=0?y.getFullYear()+1:y.getFullYear():y.getFullYear()-1}var M={"%a":function(d){return l[d.tm_wday].substring(0,3)},"%A":function(d){return l[d.tm_wday]},"%b":function(d){return v[d.tm_mon].substring(0,3)},"%B":function(d){return v[d.tm_mon]},"%C":function(d){var y=d.tm_year+1900;return p(y/100|0,2)},"%d":function(d){return p(d.tm_mday,2)},"%e":function(d){return m(d.tm_mday,2," ")},"%g":function(d){return F(d).toString().substring(2)},"%G":function(d){return F(d)},"%H":function(d){return p(d.tm_hour,2)},"%I":function(d){var y=d.tm_hour;return y==0?y=12:y>12&&(y-=12),p(y,2)},"%j":function(d){return p(d.tm_mday+ur(je(d.tm_year+1900)?Ie:We,d.tm_mon-1),3)},"%m":function(d){return p(d.tm_mon+1,2)},"%M":function(d){return p(d.tm_min,2)},"%n":function(){return`
`},"%p":function(d){return d.tm_hour>=0&&d.tm_hour<12?"AM":"PM"},"%S":function(d){return p(d.tm_sec,2)},"%t":function(){return"	"},"%u":function(d){return d.tm_wday||7},"%U":function(d){var y=new Date(d.tm_year+1900,0,1),P=y.getDay()===0?y:Be(y,7-y.getDay()),E=new Date(d.tm_year+1900,d.tm_mon,d.tm_mday);if(h(P,E)<0){var D=ur(je(E.getFullYear())?Ie:We,E.getMonth()-1)-31,L=31-P.getDate(),se=L+D+E.getDate();return p(Math.ceil(se/7),2)}return h(P,y)===0?"01":"00"},"%V":function(d){var y=new Date(d.tm_year+1900,0,4),P=new Date(d.tm_year+1901,0,4),E=_(y),D=_(P),L=Be(new Date(d.tm_year+1900,0,1),d.tm_yday);if(h(L,E)<0)return"53";if(h(D,L)<=0)return"01";var se;return E.getFullYear()<d.tm_year+1900?se=d.tm_yday+32-E.getDate():se=d.tm_yday+1-E.getDate(),p(Math.ceil(se/7),2)},"%w":function(d){return d.tm_wday},"%W":function(d){var y=new Date(d.tm_year,0,1),P=y.getDay()===1?y:Be(y,y.getDay()===0?1:7-y.getDay()+1),E=new Date(d.tm_year+1900,d.tm_mon,d.tm_mday);if(h(P,E)<0){var D=ur(je(E.getFullYear())?Ie:We,E.getMonth()-1)-31,L=31-P.getDate(),se=L+D+E.getDate();return p(Math.ceil(se/7),2)}return h(P,y)===0?"01":"00"},"%y":function(d){return(d.tm_year+1900).toString().substring(2)},"%Y":function(d){return d.tm_year+1900},"%z":function(d){var y=d.tm_gmtoff,P=y>=0;return y=Math.abs(y)/60,y=y/60*100+y%60,(P?"+":"-")+("0000"+y).slice(-4)},"%Z":function(d){return d.tm_zone},"%%":function(){return"%"}};for(var c in M)s.indexOf(c)>=0&&(s=s.replace(new RegExp(c,"g"),M[c](a)));var A=Le(s,!1);return A.length>r?0:(tn(A,e),A.length-1)}function Zt(e,r,n,i){return Jt(e,r,n,i)}var Ur=function(e,r,n,i){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=t.nextInode++,this.name=r,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=i},fr=365,cr=146;Object.defineProperties(Ur.prototype,{read:{get:function(){return(this.mode&fr)===fr},set:function(e){e?this.mode|=fr:this.mode&=-366}},write:{get:function(){return(this.mode&cr)===cr},set:function(e){e?this.mode|=cr:this.mode&=-147}},isFolder:{get:function(){return t.isDir(this.mode)}},isDevice:{get:function(){return t.isChrdev(this.mode)}}}),t.FSNode=Ur,t.staticInit(),Nn(),ve=f.BindingError=er(Error,"BindingError"),Tr=f.InternalError=er(Error,"InternalError"),qn(),ut(),it(),xr=f.UnboundTypeError=er(Error,"UnboundTypeError"),mt();function Le(e,r,n){var i=Te(e)+1,o=new Array(i),a=qe(e,o,0,o.length);return r&&(o.length=a),o}var Qt={m:kn,l:Pn,B:Dn,p:Fn,M:Sn,H:Tn,J:Cn,I:Mn,K:On,q:$n,L:xn,O:Wn,t:ft,i:ct,a:dt,N:yt,n:_t,c:Et,r:kt,d:Pt,f:Ft,e:St,s:Tt,k:Ct,P:At,h:Mt,C:Ot,w:$t,x:jt,E:Wt,F:Bt,b:Lt,j:Ut,D:Ht,G:zt,u:Yt,o:Vt,memory:ne,g:qt,y:Gt,z:Xt,v:Kt,A:Zt,table:Xr},Hr=_n();f.asm=Hr;var zr=f.___wasm_call_ctors=function(){return(zr=f.___wasm_call_ctors=f.asm.Q).apply(null,arguments)},Yr=f._memset=function(){return(Yr=f._memset=f.asm.R).apply(null,arguments)},De=f._malloc=function(){return(De=f._malloc=f.asm.S).apply(null,arguments)},G=f._free=function(){return(G=f._free=f.asm.T).apply(null,arguments)},Vr=f.___getTypeName=function(){return(Vr=f.___getTypeName=f.asm.U).apply(null,arguments)};f.___embind_register_native_and_builtin_types=function(){return(f.___embind_register_native_and_builtin_types=f.asm.V).apply(null,arguments)};var qr=f.___errno_location=function(){return(qr=f.___errno_location=f.asm.W).apply(null,arguments)},Gr=f._memalign=function(){return(Gr=f._memalign=f.asm.X).apply(null,arguments)};f.dynCall_ii=function(){return(f.dynCall_ii=f.asm.Y).apply(null,arguments)},f.dynCall_vi=function(){return(f.dynCall_vi=f.asm.Z).apply(null,arguments)},f.dynCall_i=function(){return(f.dynCall_i=f.asm._).apply(null,arguments)},f.dynCall_iii=function(){return(f.dynCall_iii=f.asm.$).apply(null,arguments)},f.dynCall_iiii=function(){return(f.dynCall_iiii=f.asm.aa).apply(null,arguments)},f.dynCall_iiiii=function(){return(f.dynCall_iiiii=f.asm.ba).apply(null,arguments)},f.dynCall_vii=function(){return(f.dynCall_vii=f.asm.ca).apply(null,arguments)},f.dynCall_viii=function(){return(f.dynCall_viii=f.asm.da).apply(null,arguments)},f.dynCall_viiii=function(){return(f.dynCall_viiii=f.asm.ea).apply(null,arguments)},f.dynCall_viiiii=function(){return(f.dynCall_viiiii=f.asm.fa).apply(null,arguments)},f.dynCall_iiiiii=function(){return(f.dynCall_iiiiii=f.asm.ga).apply(null,arguments)},f.dynCall_viijii=function(){return(f.dynCall_viijii=f.asm.ha).apply(null,arguments)},f.dynCall_jiji=function(){return(f.dynCall_jiji=f.asm.ia).apply(null,arguments)},f.dynCall_iidiiii=function(){return(f.dynCall_iidiiii=f.asm.ja).apply(null,arguments)},f.dynCall_iiiiiiiii=function(){return(f.dynCall_iiiiiiiii=f.asm.ka).apply(null,arguments)},f.dynCall_iiiiiii=function(){return(f.dynCall_iiiiiii=f.asm.la).apply(null,arguments)},f.dynCall_iiiiij=function(){return(f.dynCall_iiiiij=f.asm.ma).apply(null,arguments)},f.dynCall_iiiiid=function(){return(f.dynCall_iiiiid=f.asm.na).apply(null,arguments)},f.dynCall_iiiiijj=function(){return(f.dynCall_iiiiijj=f.asm.oa).apply(null,arguments)},f.dynCall_iiiiiiii=function(){return(f.dynCall_iiiiiiii=f.asm.pa).apply(null,arguments)},f.dynCall_iiiiiijj=function(){return(f.dynCall_iiiiiijj=f.asm.qa).apply(null,arguments)},f.dynCall_viiiiii=function(){return(f.dynCall_viiiiii=f.asm.ra).apply(null,arguments)},f.dynCall_v=function(){return(f.dynCall_v=f.asm.sa).apply(null,arguments)},f.asm=Hr;var Ue;function ei(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}_e=function e(){Ue||lr(),Ue||(_e=e)};function lr(e){if(te>0||(cn(),te>0))return;function r(){Ue||(Ue=!0,f.calledRun=!0,!Ve&&(ln(),dn(),Z(f),f.onRuntimeInitialized&&f.onRuntimeInitialized(),vn()))}f.setStatus?(f.setStatus("Running..."),setTimeout(function(){setTimeout(function(){f.setStatus("")},1),r()},1)):r()}f.run=lr;function ri(e,r){Ye||(Ve=!0,f.onExit&&f.onExit(e)),ue(e,new ei(e))}if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.pop()();return Ye=!0,lr(),f.ready}}();let dr=null;ni({locateFile:U=>U.endsWith(".wasm")?new URL("/ShogiApp/ffish.wasm",window.location.origin).toString():U}).then(U=>{dr=U,console.log("✅ ffish module loaded"),console.log("Available variants:",dr.variants());const B=document.getElementById("player"),f=document.getElementById("sfen"),Z=document.getElementById("aiMove");if(!B||!Z||!f){console.error("❌ DOM elements not found");return}console.log("✅ DOM loaded");const T="lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b - 1",C=Math.random()<.5,X=C?"w":"b";console.log(`🎲 Player is ${C?"black (sente)":"white (gote)"}`),console.log(`🤖 AI is ${X==="b"?"black":"white"}`),B.mode="play",B.setAttribute("editable","true"),B.sfen=T,B.addEventListener("update",H=>{const R=H.detail.sfen;f.innerText=R,console.log("📥 SFEN updated:",R),R.includes(` ${X} `)&&setTimeout(()=>ue(R),200)}),Z.addEventListener("click",()=>{const H=B.sfen;ue(H)});function ue(H){console.log("🎯 AI thinking on SFEN:",H);try{const R=new dr.Board("shogi",H),j=R.legalMoves().split(" ");if(console.log("🔍 Legal moves:",j),j.length>0){R.push(j[0]);const Fe=R.fen();console.log("🤖 AI move played. New SFEN:",Fe),B.sfen=Fe}else console.warn("⚠️ No legal moves for AI");R.delete()}catch(R){console.error("❌ Error during AI move:",R)}}C||ue(T)}).catch(U=>{console.error("❌ Failed to load ffish module:",U)});
